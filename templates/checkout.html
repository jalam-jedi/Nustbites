{% extends 'basic.html' %}
{% block title %}Order Checkout{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto mt-8 bg-gray-100 p-6 rounded-lg shadow">
  <h2 class="text-2xl font-bold mb-4 border-b-2 border-red-600 pb-2">ORDER CHECKOUT</h2>
  <table class="w-full mb-4">
    <thead>
      <tr class="bg-gray-300 text-gray-700">
        <th class="py-2 px-4 text-left">ITEM</th>
        <th class="py-2 px-4 text-center">PRICE</th>
        <th class="py-2 px-4 text-center">QTY</th>
        <th class="py-2 px-4 text-center">TOTAL</th>
      </tr>
    </thead>
    <tbody>
      {% for item in bucket %}
      <tr class="bg-white">
        <td class="py-2 px-4">{{ item.name }}</td>
        <td class="py-2 px-4 text-center">{{ item.price }}</td>
        <td class="py-2 px-4 text-center">{{ item.quantity }}</td>
        <td class="py-2 px-4 text-center">{{ item.price * item.quantity }}</td>
      </tr>
      {% endfor %}
    </tbody>
    <tfoot>
      <tr class="bg-gray-200 font-bold">
        <td colspan="3" class="py-2 px-4 text-right">Total Amount (Rs.)</td>
        <td class="py-2 px-4 text-center">{{ total }}</td>
      </tr>
    </tfoot>
  </table>

  <!-- Promo Code Section -->
  <div class="bg-gray-200 rounded-lg p-4 mb-4">
    <div class="font-bold text-lg mb-2 text-red-600 border-b-2 border-red-600 pb-1">PROMO CODE</div>
    <div class="mb-2 text-gray-700">Enter promo code if you have any:</div>
    <form class="flex gap-2">
      <input type="text" name="promo_code" class="input input-bordered flex-1" placeholder="Enter promo code">
      <button type="submit" class="btn bg-red-600 text-white font-bold px-6">APPLY</button>
    </form>
  </div>

  <!-- Location and Special Instructions -->
  <div class="bg-gray-200 rounded-lg p-4 mb-4">
    <div class="mb-2">
      <span class="font-bold text-red-600">Location:</span>
      <span class="text-gray-800">{{ location.name if location else 'N/A' }}</span>
    </div>
    <div>
      <span class="font-bold text-red-600">Special Instructions:</span>
      <span class="text-gray-800">{{ special_instructions or 'None' }}</span>
    </div>
  </div>

  <!-- Payment Instructions -->
  <div class="bg-gray-200 rounded-lg p-4 mb-4">
    <div class="font-bold text-lg mb-2 text-red-600 border-b-2 border-red-600 pb-1">PAYMENT INSTRUCTIONS:</div>
    <div class="mb-2">
      Please transfer the total amount of <span class="font-bold text-red-600">Rs.{{ total }}</span> to one of the following accounts:
    </div>
    <ul class="mb-2 text-gray-800">
      <li class="mb-1">
        <span class="font-bold">SadaPay</span><br>
        Account Number: 0000000000000000 <br>
        Account Name: ABC
      </li>
      <li class="mb-1">
        <span class="font-bold">MayaPay</span><br>
        Account Number:0000000000000000 <br>
        Account Name: ABC
      </li>
      <li>
        <span class="font-bold">Meezan Bank</span><br>
        Account Number: 0000000000000000 <br>
        Account Name: ABC
      </li>
    </ul>
    <div class="text-red-600 font-bold mb-1">
      Only payments sent to the specified bank accounts will be accepted.*
    </div>
    <div class="text-xs text-red-600 mb-2">
      *Payments sent to any other account, such as JazzCash or EasyPaisa, will not be received and cannot be refunded.
    </div>
    <div class="mb-2">
      After completing the transfer, please upload your payment slip/screenshot by clicking the <span class="font-bold">Upload Slip</span> below. Make sure that the file is no more than 2.5 MB.
    </div>
    
      <div class="flex items-center gap-4 mb-4">
        <input type="file" name="payment_slip" class="file-input file-input-bordered file-input-sm" accept="image/*,.pdf">
        <button type="submit" class="btn bg-green-600 text-white font-bold px-6">Upload Slip</button>
      </div>
      <div class="mb-4 text-gray-600 text-sm">File uploaded: <span id="file-uploaded">none</span></div>
      <button type="submit" class="btn w-full bg-gray-500 text-white font-bold py-2 rounded hover:bg-gray-700">Confirm Order</button>
    
  </div>
</div>
{% endblock %}